/* ===== APPLE MOTION DESIGN TOKENS ===== */
/* iOS 17 animation curves, duration scale, and orchestration settings */

:root {
  /* ===== APPLE EASING CURVES ===== */
  /* iOS 17 default easing - smooth, predictable */
  --motion-ease-out: cubic-bezier(0.2, 0, 0, 1);

  /* Standard iOS easing for most interactions */
  --motion-ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);

  /* Springy, organic feeling bounce */
  --motion-spring: cubic-bezier(0.34, 1.56, 0.64, 1);

  /* Tighter spring for subtle bounces */
  --motion-spring-tight: cubic-bezier(0.22, 1, 0.36, 1);

  /* Quick, snappy interaction response */
  --motion-ease-in: cubic-bezier(0.4, 0, 1, 1);

  /* Smooth deceleration (typical iOS swipe end) */
  --motion-ease-swift: cubic-bezier(0.15, 0.85, 0.55, 0.95);

  /* Rubber band overscroll effect */
  --motion-rubber-band: cubic-bezier(0.45, 1.2, 0.55, 1);

  /* Emphasis easing for important actions */
  --motion-emphasis: cubic-bezier(0.25, 0.46, 0.45, 0.94);

  /* ===== DURATION SCALE (ms) ===== */
  /* Micro-interactions (visibility feedback) */
  --duration-instant: 100ms;

  /* Fast, snappy responses */
  --duration-fast: 200ms;

  /* Standard transition timing */
  --duration-normal: 350ms;

  /* Slower, more noticeable transitions */
  --duration-slow: 500ms;

  /* Very slow, deliberate animations (celebrations) */
  --duration-slower: 700ms;

  /* Extended animations (loading, complex sequences) */
  --duration-extended: 1000ms;

  /* ===== STAGGER TIMING ===== */
  /* Base stagger increment for list animations */
  --stagger-base: 30ms;

  /* Stagger for immediate visual feedback */
  --stagger-quick: 15ms;

  /* Stagger for slower cascading effects */
  --stagger-slow: 60ms;

  /* ===== SPRING PARAMETERS ===== */
  /* Standard spring for most animations */
  --spring-damping: 0.75;
  --spring-stiffness: 300;

  /* Snappy spring for quick feedback */
  --spring-damping-tight: 0.8;
  --spring-stiffness-tight: 400;

  /* Loose spring for playful animations */
  --spring-damping-loose: 0.6;
  --spring-stiffness-loose: 200;

  /* ===== ANIMATION PRESETS ===== */
  --animation-entrance: var(--duration-normal) var(--motion-spring) both;
  --animation-exit: var(--duration-fast) var(--motion-ease-in) both;
  --animation-interaction: var(--duration-instant) var(--motion-spring-tight) both;
  --animation-transition: var(--duration-normal) var(--motion-ease-in-out) both;
  --animation-celebration: var(--duration-slower) var(--motion-spring) both;
}

/* ===== BASE TRANSITION SETTINGS ===== */
* {
  --transition-property: background-color, border-color, color, box-shadow,
    transform, opacity;
  --transition-timing: var(--motion-ease-in-out);
  --transition-duration: var(--duration-normal);
}

/* ===== COMMON TRANSITION CLASSES ===== */
.transition-fast {
  transition-duration: var(--duration-fast);
  transition-timing-function: var(--motion-ease-in-out);
}

.transition-normal {
  transition-duration: var(--duration-normal);
  transition-timing-function: var(--motion-ease-in-out);
}

.transition-slow {
  transition-duration: var(--duration-slow);
  transition-timing-function: var(--motion-ease-in-out);
}

/* ===== ENTRANCE ANIMATIONS ===== */
@keyframes entrance-fade-scale {
  from {
    opacity: 0;
    transform: scale(0.95);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes entrance-slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes entrance-slide-down {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-entrance-fade-scale {
  animation: entrance-fade-scale var(--animation-entrance);
}

.animate-entrance-slide-up {
  animation: entrance-slide-up var(--animation-entrance);
}

.animate-entrance-slide-down {
  animation: entrance-slide-down var(--animation-entrance);
}

/* ===== NAVIGATION ANIMATIONS ===== */
@keyframes nav-push-enter {
  from {
    opacity: 0;
    transform: translateX(100%);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes nav-push-exit {
  from {
    opacity: 1;
    transform: translateX(0);
  }

  to {
    opacity: 0;
    transform: translateX(-30%);
  }
}

@keyframes nav-pop-exit {
  from {
    opacity: 1;
    transform: translateX(0);
  }

  to {
    opacity: 0;
    transform: translateX(100%);
  }
}

.animate-nav-push-enter {
  animation: nav-push-enter 350ms var(--motion-spring) both;
}

.animate-nav-push-exit {
  animation: nav-push-exit 350ms var(--motion-ease-in) both;
}

.animate-nav-pop-exit {
  animation: nav-pop-exit 350ms var(--motion-spring-tight) both;
}

/* ===== SHEET/MODAL ANIMATIONS ===== */
@keyframes modal-sheet-enter {
  from {
    opacity: 0;
    transform: translateY(100%) scale(0.98);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes modal-sheet-exit {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  to {
    opacity: 0;
    transform: translateY(100%) scale(0.95);
  }
}

@keyframes modal-scrim-enter {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.animate-modal-sheet-enter {
  animation: modal-sheet-enter 350ms var(--motion-spring) both;
}

.animate-modal-sheet-exit {
  animation: modal-sheet-exit 250ms var(--motion-ease-in) both;
}

.animate-modal-scrim-enter {
  animation: modal-scrim-enter 300ms var(--motion-ease-in-out) both;
}

/* ===== RUBBER BAND EFFECT ===== */
@keyframes rubber-band {

  0%,
  100% {
    transform: scaleX(1);
  }

  15% {
    transform: scaleX(0.75) scaleY(1.25);
  }

  30% {
    transform: scaleX(1.25) scaleY(0.75);
  }

  45% {
    transform: scaleX(0.9) scaleY(1.1);
  }

  60% {
    transform: scaleX(1.05) scaleY(0.95);
  }

  75% {
    transform: scaleX(0.95) scaleY(1.05);
  }
}

.animate-rubber-band {
  animation: rubber-band 600ms var(--motion-rubber-band) both;
}

/* ===== SCALE ANIMATIONS ===== */
@keyframes scale-in-spring {
  from {
    opacity: 0;
    transform: scale(0);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes scale-out-spring {
  from {
    opacity: 1;
    transform: scale(1);
  }

  to {
    opacity: 0;
    transform: scale(0.8);
  }
}

.animate-scale-in {
  animation: scale-in-spring var(--animation-entrance);
}

.animate-scale-out {
  animation: scale-out-spring var(--animation-exit);
}

/* ===== PARTICLE/CELEBRATION ANIMATIONS ===== */
@keyframes particle-burst {
  0% {
    opacity: 1;
    transform: translate(var(--tx), var(--ty)) scale(1);
  }

  100% {
    opacity: 0;
    transform: translate(calc(var(--tx) * 2), calc(var(--ty) * 2)) scale(0);
  }
}

.animate-particle-burst {
  animation: particle-burst var(--animation-celebration);
  will-change: transform, opacity;
}

/* ===== CHECKMARK ANIMATION ===== */
@keyframes checkmark-draw {
  from {
    stroke-dashoffset: 100;
  }

  to {
    stroke-dashoffset: 0;
  }
}

@keyframes checkmark-circle {
  from {
    stroke-dashoffset: 166;
  }

  to {
    stroke-dashoffset: 0;
  }
}

.animate-checkmark {
  animation: checkmark-draw 400ms var(--motion-ease-out) forwards;
}

.animate-checkmark-circle {
  animation: checkmark-circle 500ms var(--motion-spring-tight) forwards;
}

/* ===== STAGGER ANIMATION UTILITY ===== */
.stagger-item {
  opacity: 0;
  animation: entrance-slide-up var(--animation-entrance);
  animation-fill-mode: both;
}

.stagger-item:nth-child(1) {
  animation-delay: calc(0 * var(--stagger-base));
}

.stagger-item:nth-child(2) {
  animation-delay: calc(1 * var(--stagger-base));
}

.stagger-item:nth-child(3) {
  animation-delay: calc(2 * var(--stagger-base));
}

.stagger-item:nth-child(4) {
  animation-delay: calc(3 * var(--stagger-base));
}

.stagger-item:nth-child(5) {
  animation-delay: calc(4 * var(--stagger-base));
}

.stagger-item:nth-child(6) {
  animation-delay: calc(5 * var(--stagger-base));
}

.stagger-item:nth-child(7) {
  animation-delay: calc(6 * var(--stagger-base));
}

.stagger-item:nth-child(8) {
  animation-delay: calc(7 * var(--stagger-base));
}

.stagger-item:nth-child(n+9) {
  animation-delay: calc(8 * var(--stagger-base));
}

/* ===== SMOOTH OPACITY TRANSITIONS ===== */
.transition-opacity {
  transition: opacity var(--duration-normal) var(--motion-ease-in-out);
}

.transition-opacity-fast {
  transition: opacity var(--duration-fast) var(--motion-ease-in-out);
}

/* ===== ACCESSIBILITY: REDUCED MOTION ===== */
@media (prefers-reduced-motion: reduce) {
  :root {
    --duration-instant: 0ms;
    --duration-fast: 0ms;
    --duration-normal: 0ms;
    --duration-slow: 0ms;
    --duration-slower: 0ms;
    --duration-extended: 0ms;
  }

  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
  }
}

/* ===== PERFORMANCE OPTIMIZATION ===== */
.will-animate {
  will-change: transform, opacity;
}

.will-animate-transform {
  will-change: transform;
}

.will-animate-opacity {
  will-change: opacity;
}

/* ===== GPU ACCELERATION ===== */
.gpu-accelerate {
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  perspective: 1000px;
}